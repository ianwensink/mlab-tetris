{"version":3,"sources":["webpack:///webpack/bootstrap cd8d5f4812d5413b960b","webpack:///./src/client/Game/index.ts","webpack:///./src/client/Game/Game.css?3bf7","webpack:///./src/client/Piece/PieceFactory.ts","webpack:///./src/client/Piece/index.ts","webpack:///./src/client/index.ts"],"names":[],"mappings":"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AAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,CAAE,CAAE,CAAE,CAAC;QAChK,gBAAW,GAAiB,CAAE,CAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,CAAE,EAAE,CAAE,CAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,CAAE,EAAE,CAAE,EAAE,EAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,CAAE,EAAE,CAAE,CAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,CAAE,CAAE,CAAC;QAChK,gBAAW,GAAiB,CAAE,CAAE,CAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,CAAE,EAAE,CAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,CAAE,EAAE,CAAE,EAAE,EAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,CAAE,EAAE,CAAE,CAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,CAAE,CAAE,CAAC;QAChK,gBAAW,GAAiB,CAAE,CAAE,CAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,CAAE,EAAE,CAAE,CAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,CAAE,EAAE,CAAE,EAAE,EAAE,CAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE,CA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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cd8d5f4812d5413b960b","/* tslint:disable:no-var-requires */\nimport Piece from '../Piece/index';\nimport PieceFactory from '../Piece/PieceFactory';\n\nrequire('./Game.css');\nconst socket = (window as any).io ? (window as any).io.connect('127.0.0.1:6006') : false;\n/* tslint:enable:no-var-requires */\n\n/**\n * Credits to http://htmltetris.com/\n */\n\nexport default class Game {\n  public static states = {\n    INTRO: 'INTRO',\n    STARTED: 'STARTED',\n    FINISHED: 'FINISHED',\n    GAME_OVER: 'GAME_OVER',\n  };\n\n  public board: Array<number | string> = [];\n  public boardSizeX: number;\n  public boardSizeY: number;\n  public boardOffsetX: number = 8;\n  public boardOffsetY: number = 8;\n  public tileSizeX: number = 15;\n  public tileSizeY: number = 15;\n  public tileGapSize: number = 2;\n  public boardMargin: number = 10;\n  public canvasWidth: number;\n\n  public canvasHeight: number;\n  public bc: HTMLCanvasElement;\n\n  public get state() {\n    return this._state;\n  }\n\n  public set state(value) {\n    this._state = value;\n    this.update();\n  }\n\n  private _state: string = Game.states.INTRO;\n\n  private bcc: CanvasRenderingContext2D;\n  private codeEl: HTMLElement;\n  private stateEl: HTMLElement;\n  private borderSize: number = 2;\n  private score: number = 0;\n\n  private addPieceTimeout: number;\n\n  private code: number[] = [ 5, 1, 9, 3 ];\n  private unlockCode: number[] = [ 3, 8, 4, 9 ];\n  private inputUnlockCode: number[] = [];\n  private unlocked = false;\n\n  private pieces: Piece[] = [];\n\n  private helpTimeout: number;\n\n  private get size(): number {\n    return this.boardSizeX * this.boardSizeY;\n  }\n\n  constructor(sizeX: number = 10, sizeY: number = 24) {\n    this.boardSizeX = sizeX;\n    this.boardSizeY = sizeY;\n\n    this.setUpGame();\n  }\n\n  public onFixPiece(piece: Piece) {\n    this.drawBoard();\n    this.clearRowCheck(piece.pieceY, piece.tetrominos[ piece.curPiece ][ piece.curRotation ].length);\n  }\n\n  public gameOver() {\n    this.state = Game.states.GAME_OVER;\n  }\n\n  private finishGame() {\n    this.state = Game.states.FINISHED;\n  }\n\n  private setUpGame() {\n    this.bc = document.getElementById('board_canvas') as HTMLCanvasElement;\n    this.bcc = this.bc.getContext('2d') as CanvasRenderingContext2D;\n    this.codeEl = document.getElementById('code') as HTMLElement;\n    this.stateEl = document.getElementById('state-text') as HTMLElement;\n\n    for(let i = 0; i < this.size; i++) {\n      this.board[ i ] = 0;\n    }\n\n    document.addEventListener('keydown', (e: KeyboardEvent) => this.onClickedKey(e));\n    document.addEventListener('keyup', (e: KeyboardEvent) => this.onClickedKey(e));\n    if(socket) {\n      socket.on('clickedKey', (data: string) => this.onClickedKey(data));\n    }\n\n    this.state = Game.states.INTRO;\n\n    this.updateSizing();\n    this.draw();\n  }\n\n  private startGame() {\n    this.unMount();\n\n    for(let i = 0; i < this.size; i++) {\n      this.board[ i ] = 0;\n    }\n    this.drawBoard();\n\n    this.pieces.push(PieceFactory.getPiece(this, 1));\n    this.addPieceTimeout = window.setTimeout(() => this.pieces.push(PieceFactory.getPiece(this, 2)), 3000);\n\n    this.applyScore(0); // to init\n\n    this.state = Game.states.STARTED;\n\n    this.update();\n  }\n\n  private unMount() {\n    for(const piece of this.pieces) {\n      piece.unMount();\n    }\n\n    this.pieces = [];\n\n    clearTimeout(this.addPieceTimeout);\n  }\n\n  private drawBoard() {\n    this.bcc.fillStyle = '#000';\n    this.bcc.fillRect(0, 0, this.boardOffsetX * 2 + this.tileSizeX * this.boardSizeX + this.tileGapSize * (this.boardSizeX - 1), this.boardOffsetY * 2 + this.tileSizeY * this.boardSizeY + this.tileGapSize * (this.boardSizeY - 1));\n    this.bcc.clearRect(this.boardOffsetX - this.borderSize, this.boardOffsetY - this.borderSize, (this.tileSizeX + this.tileGapSize) * this.boardSizeX - this.tileGapSize + this.borderSize * 2, (this.tileSizeY + this.tileGapSize) * this.boardSizeY - this.tileGapSize + this.borderSize * 2);\n    this.bcc.strokeRect(this.boardOffsetX - 0.5, this.boardOffsetY - 0.5, (this.tileSizeX + this.tileGapSize) * this.boardSizeX - this.tileGapSize + 1, (this.tileSizeY + this.tileGapSize) * this.boardSizeY - this.tileGapSize + 1);\n    this.bcc.fillStyle = '#888';\n    this.bcc.fillRect(this.boardOffsetX, this.boardOffsetY, (this.tileSizeX + this.tileGapSize) * this.boardSizeX - this.tileGapSize, (this.tileSizeY + this.tileGapSize) * this.boardSizeY - this.tileGapSize);\n    for(const [ i, boardItem ] of this.board.entries()) {\n      this.drawBox(i, boardItem, this.bcc);\n    }\n  }\n\n  private drawBox(position: number, color: (number | string), context: CanvasRenderingContext2D) {\n    const posX = position % this.boardSizeX;\n    const posY = (position - posX) / this.boardSizeX;\n\n    context.fillStyle = color === 0 ? '#999' : color as string;\n    context.fillRect(this.boardOffsetX + posX * (this.tileSizeX + this.tileGapSize), this.boardOffsetY + posY * (this.tileSizeY + this.tileGapSize), this.tileSizeX, this.tileSizeY);\n  }\n\n  private updateSizing() {\n    this.tileSizeX = this.tileSizeY = Math.floor((window.innerHeight - 25 - this.boardOffsetY * 2 - this.boardSizeY * this.tileGapSize) / this.boardSizeY);\n\n    this.canvasWidth = (this.boardOffsetX * 2 + this.tileSizeX * this.boardSizeX + this.tileGapSize * (this.boardSizeX - 1));\n    this.canvasHeight = (this.boardOffsetY * 2 + this.tileSizeY * this.boardSizeY + this.tileGapSize * (this.boardSizeY - 1));\n    this.bc.width = this.canvasWidth;\n    this.bc.height = this.canvasHeight;\n\n    for(const piece of this.pieces) {\n      piece.updateSizing();\n    }\n\n    this.bc.style.left = `${this.boardMargin}px`;\n\n    this.drawBoard();\n    this.updatePieces();\n  }\n\n  private clearRowCheck(startrow: number, numrowsdown: number) {\n    let numRowsCleared = 0;\n    for(let i = 0; i < numrowsdown; i++) {\n      let full = true;\n      for(let j = 0; j < this.boardSizeX; j++) {\n        if(!this.board[ (startrow + i) * this.boardSizeX + j ]) {\n          full = false;\n        }\n      }\n      if(full) {\n        numRowsCleared++;\n        this.shiftDown(startrow + i);\n        this.drawBoard();\n      }\n    }\n    if(numRowsCleared) {\n      this.applyScore(numRowsCleared * 100);\n    }\n  }\n\n  // row is full\n  private shiftDown(row: number) {\n    for(let i = row * this.boardSizeX - 1; i >= 0; i--) {\n      this.board[ i + this.boardSizeX ] = this.board[ i ];\n    }\n    for(let i = 0; i < this.boardSizeX; i++) {\n      this.board[ i ] = 0;\n    }\n  }\n\n  private updatePieces() {\n    for(const piece of this.pieces) {\n      piece.update();\n    }\n  }\n\n  private update() {\n    this.updatePieces();\n    this.draw();\n  }\n\n  private draw() {\n    this.drawStateText();\n    this.drawCode();\n  }\n\n  private onClickedKey(e: string|KeyboardEvent) {\n    let key: string = e as string;\n    const event = e as KeyboardEvent;\n\n    if(typeof event.which !== 'undefined') {\n      key = `${event.which}:${event.type === 'keydown' ? '1' : '0'}`;\n    }\n\n    switch(key) {\n      case '82:0': // R-key:UP\n        this.reset();\n        break;\n      case '48:0':\n        this.addUnlockCode(0);\n        break;\n      case '49:0':\n        this.addUnlockCode(1);\n        break;\n      case '50:0':\n        this.addUnlockCode(2);\n        break;\n      case '51:0':\n        this.addUnlockCode(3);\n        break;\n      case '52:0':\n        this.addUnlockCode(4);\n        break;\n      case '53:0':\n        this.addUnlockCode(5);\n        break;\n      case '54:0':\n        this.addUnlockCode(6);\n        break;\n      case '55:0':\n        this.addUnlockCode(7);\n        break;\n      case '56:0':\n        this.addUnlockCode(8);\n        break;\n      case '57:0':\n        this.addUnlockCode(9);\n        break;\n      case '8:0':\n        this.removeUnlockCode();\n        break;\n      default:\n        for(const piece of this.pieces) {\n          piece.onClickedKey(key);\n        }\n    }\n  }\n\n  private addUnlockCode(which: number) {\n    if(this.inputUnlockCode.length < this.unlockCode.length) {\n      this.inputUnlockCode.push(which);\n      this.draw();\n    }\n  }\n\n  private removeUnlockCode() {\n    this.inputUnlockCode.pop();\n    this.draw();\n  }\n\n  private reset() {\n    if(this.unlock()) {\n      this.startGame();\n    }\n  }\n\n  private unlock() {\n    if(this.unlocked) {\n       return true;\n    }\n\n    let correct = true;\n\n    this.inputUnlockCode.forEach((code, i) => {\n      if(correct) {\n        correct = code === this.unlockCode[i];\n      }\n    });\n\n    return this.inputUnlockCode.length === this.unlockCode.length && correct;\n  }\n\n  private applyScore(amount: number) {\n    this.score += amount;\n\n    if(this.score >= 400) {\n      this.finishGame();\n    }\n\n    if(this.state === Game.states.STARTED) {\n      this.setHelpTimer();\n    }\n\n    this.drawCode();\n  }\n\n  private setHelpTimer() {\n    clearTimeout(this.helpTimeout);\n\n    this.helpTimeout = window.setTimeout(() => this.applyScore(100), 1000 * 120);\n  }\n\n  private drawCode() {\n    let length = 0;\n    if(this.score >= 400) {\n      length = 4;\n    } else if(this.score >= 300) {\n      length = 3;\n    } else if(this.score >= 200) {\n      length = 2;\n    } else if(this.score >= 100) {\n      length = 1;\n    }\n    this.codeEl.innerHTML = this.code.slice(0, length).map((c) => `<span class='code-item'>${c}</span>`).join('') + ('<span class=\"code-item asterisk\">*</span>'.repeat(this.code.length - length));\n  }\n\n  private drawStateText() {\n    switch(this.state) {\n      case Game.states.GAME_OVER:\n        this.stateEl.innerHTML = '<span class=\"game-over heading\">Game Over</span><span class=\"description\">Druk op de witte knop om opnieuw te beginnen.</span>';\n        this.stateEl.classList.remove('hidden');\n        break;\n      case Game.states.INTRO:\n        this.stateEl.innerHTML = `<span class=\"intro heading\">Gefeliciteerd!</span><span class=\"description\">Jullie laatste obstakel is het vinden van de code voor de kluis! Je krijgt de code door dit spel te spelen. Let op: samenwerking is hier het belangrijkst! Druk op de witte knop om het spel te starten.</span><span class=\"description\">(===&===)</span><span class=\"code\" id=\"code\" style='display:block;'>${this.inputUnlockCode.map((c) => `<span class='code-item'>${c}</span>`).join('') + ('<span class=\"code-item asterisk\">*</span>'.repeat(this.unlockCode.length - this.inputUnlockCode.length))}</span>`;\n        this.stateEl.classList.remove('hidden');\n        break;\n      case Game.states.FINISHED:\n        this.stateEl.innerHTML = `<span class=\"intro heading\">Wow!</span><span class=\"description\">Goed gedaan! Jullie hebben succesvol de code vrijgespeeld en kunnen nu de kluis open maken.</span><div><h1 class=\"code-heading\">De code is:</h1><span class=\"code\" id=\"code\">${this.code.map((c) => `<span class='code-item'>${c}</span>`).join('')}</span></div>`;\n        this.stateEl.classList.remove('hidden');\n        break;\n      default:\n        this.stateEl.innerHTML = '';\n        this.stateEl.classList.add('hidden');\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/Game/index.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/Game/Game.css\n// module id = 1\n// module chunks = 0","import Game from '../Game/index';\nimport Piece from './index';\n\nexport default class PieceFactory {\n  public static getPiece(game: Game, player: number): Piece {\n    switch(player) {\n      case 2:\n        return new Piece(2, game, '#32cc1a', 'rgba(50, 204, 26, 0.3)', { left: 65, rotate: 87, right: 68 });\n      case 1:\n      default:\n        return new Piece(1, game, '#ffeb21', 'rgba(255, 235, 33, 0.3)', { left: 37, rotate: 38, right: 39 });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/Piece/PieceFactory.ts","import Game from '../Game/index';\nimport IControls from './IControls';\nimport IMoves from './IMoves';\n\nexport default class Piece {\n  public pieceX: number = 0;\n  public pieceY: number = 0;\n  public curPiece: number = 0;\n  public curRotation: number = 0;\n\n  public get tetrominos() {\n    return this._tetrominos;\n  }\n\n  private type: number;\n  private game: Game;\n  private color: string;\n  private shadowColor: string;\n  private controls: IControls;\n  private autoMoveDownInterval: number;\n  private animationUpdateTimeout: number;\n  private animationUpdateLastCall: number;\n  private animPositionX: number = 0;\n  private animPositionY: number = 0;\n  private animRotation: number = 0;\n\n  private ac: HTMLCanvasElement;\n  private acc: CanvasRenderingContext2D;\n  private sc: HTMLCanvasElement;\n  private scc: CanvasRenderingContext2D;\n\n  // <editor-fold desc=\"Shapes\">\n\n  // coordinate systems follow convention starting at top-left. order is that of clockwise rotation. row-major layout.\n  // currently using SRS rotation; I am not satisfied with the S, Z, I having 4 states when they only need two, but I would need to have them rotate on an axis that changes location depending on orientation and cw vs ccw rotation.\n  private tetromino_Z: number[][][] = [ [ [ 1, 1 ], [ 0, 1, 1 ] ], [ [ 0, 0, 1 ], [ 0, 1, 1 ], [ 0, 1 ] ], [ [], [ 1, 1 ], [ 0, 1, 1 ] ], [ [ 0, 1 ], [ 1, 1 ], [ 1 ] ] ];\n  private tetromino_S: number[][][] = [ [ [ 0, 2, 2 ], [ 2, 2 ] ], [ [ 0, 2 ], [ 0, 2, 2 ], [ 0, 0, 2 ] ], [ [], [ 0, 2, 2 ], [ 2, 2 ] ], [ [ 2 ], [ 2, 2 ], [ 0, 2 ] ] ];\n  private tetromino_J: number[][][] = [ [ [ 3 ], [ 3, 3, 3 ] ], [ [ 0, 3, 3 ], [ 0, 3 ], [ 0, 3 ] ], [ [], [ 3, 3, 3 ], [ 0, 0, 3 ] ], [ [ 0, 3 ], [ 0, 3 ], [ 3, 3 ] ] ];\n  private tetromino_T: number[][][] = [ [ [ 0, 4 ], [ 4, 4, 4 ] ], [ [ 0, 4 ], [ 0, 4, 4 ], [ 0, 4 ] ], [ [], [ 4, 4, 4 ], [ 0, 4 ] ], [ [ 0, 4 ], [ 4, 4 ], [ 0, 4 ] ] ];\n  private tetromino_O: number[][][] = [ [ [ 5, 5 ], [ 5, 5 ] ] ];\n  private tetromino_L: number[][][] = [ [ [ 0, 0, 6 ], [ 6, 6, 6 ] ], [ [ 0, 6 ], [ 0, 6 ], [ 0, 6, 6 ] ], [ [], [ 6, 6, 6 ], [ 6 ] ], [ [ 6, 6 ], [ 0, 6 ], [ 0, 6 ] ] ];\n  private tetromino_I: number[][][] = [ [ [], [ 7, 7, 7, 7 ] ], [ [ 0, 0, 7 ], [ 0, 0, 7 ], [ 0, 0, 7 ], [ 0, 0, 7 ] ], [ [], [], [ 7, 7, 7, 7 ] ], [ [ 0, 7 ], [ 0, 7 ], [ 0, 7 ], [ 0, 7 ] ] ];\n  // tetromino geometry data\n  // private _tetrominos: number[][][][] = [ this.tetromino_Z, this.tetromino_S, this.tetromino_J, this.tetromino_T, this.tetromino_O, this.tetromino_L, this.tetromino_I ];\n  private _tetrominos: number[][][][] = [ this.tetromino_J, this.tetromino_T, this.tetromino_O, this.tetromino_L, this.tetromino_I ];\n  // this is for the rotation animation -- must know where in local grid did the piece rotate around each coordinate is a triple, the first two are x,y, and the last is to indicate whether the point is in the center of the block or in the corner to the bottom right between blocks. These are the points which may be rotated around to retain block alignment, if that makes any sense.\n  private tet_center_rot: Array<Array<number | boolean>> = [ [ 1, 1, true ], [ 1, 1, true ], [ 1, 1, true ], [ 1, 1, true ], [ 0, 0, false ], [ 1, 1, true ], [ 1, 1, false ] ];\n\n  // left, right\n  private shiftOrders: number[][] = [\n    [ 0, 0 ], // initial\n    [ -1, 0 ], [ -1, 1 ], [ -1, -1 ], [ 0, -1 ], // col 1 block left; directly above\n    [ -1, 2 ], [ -1, -2 ], // col 1 block left, two away vertically\n    [ -2, 0 ], [ -2, 1 ], [ -2, -1 ], [ -2, 2 ], [ -2, -2 ], // col 2 blocks left\n    [ 0, -2 ], // directly above, two spaces\n\n    // [0,2], // directly below, two spaces (can cause tunnelling perhaps? one space below certainly is not needed)\n    // [-3,0],[-3,1],[-3,-1],[-3,2],[-3,-2], // col 3 blocks left -- this may be getting cheap\n    [ 1, 0 ], [ 1, 1 ], [ 1, -1 ], [ 2, 0 ], [ 2, 1 ], [ 2, -1 ], [ 1, 2 ], [ 1, -2 ], // move left for wall kicking\n  ];\n  private shiftRight: number = 0; // 0 = left, 1 = right\n\n  // </editor-fold>\n\n  private shadowY: number = 0;\n\n  private lockTimer: number;\n\n  private fallInterval: number = 400;\n  private repeatRateInitial: number = 300;\n  private repeatRate: number = 300;\n  private repeatIntervals: IControls = { left: 0, rotate: 0, right: 0 };\n  private repeatInitPassed: IControls = { left: 0, rotate: 0, right: 0 };\n\n  private buttonStates: IControls = { left: 0, rotate: 0, right: 0 };\n\n  private moves: IMoves = {\n    left: () => {\n      this.pieceX -= 1;\n      if(this.isPieceInside()) {\n        this.pieceX += 1;\n      }\n      this.shiftRight = 0;\n      this.clearLockTimer();\n    },\n    right: () => {\n      this.pieceX += 1;\n      if(this.isPieceInside()) {\n        this.pieceX -= 1;\n      }\n      this.shiftRight = 1;\n      this.clearLockTimer();\n    },\n    rotate: () => {\n      const oldrot = this.curRotation;\n      this.curRotation = (this.curRotation + 1) % (this._tetrominos[ this.curPiece ].length);\n      if(this.kick()) {\n        this.curRotation = oldrot;\n      } else {\n        this.animRotation = -Math.PI / 2.0;\n      }\n      this.clearLockTimer();\n    },\n    // up direction movement is a cheat in standard tetris\n    up: () => {\n      this.pieceY -= 1;\n      if(this.isPieceInside()) {\n        this.pieceY += 1;\n      }\n      this.clearLockTimer();\n    },\n    // down key calls this -- moves stuff down, if at bottom, locks it\n    down: () => {\n      this.pieceY += 1;\n      if(this.isPieceInside()) {\n        this.pieceY -= 1;\n        this.fixPiece();\n      }\n      this.clearLockTimer();\n    },\n    // timer based down\n    timer: () => {\n      this.pieceY += 1;\n      if(this.isPieceInside()) {\n        this.pieceY -= 1;\n        if(!this.lockTimer) {\n          // this.lockTimer = window.setTimeout(() => {\n          this.moves.down();\n          // }, 600);\n        }\n      }\n    },\n  };\n\n  constructor(type: number, game: Game, color: string, shadowColor: string, controls: IControls) {\n    this.type = type;\n    this.game = game;\n    this.color = color;\n    this.shadowColor = shadowColor;\n    this.controls = controls;\n\n    this.ac = document.getElementById(`animated_canvas${this.type}`) as HTMLCanvasElement;\n    this.sc = document.getElementById(`animated_shadow_canvas${this.type}`) as HTMLCanvasElement;\n    if(!this.ac) {\n      const canvas = document.createElement('canvas');\n      canvas.id = `animated_canvas${this.type}`;\n      canvas.className = 'animated_canvas';\n      (document.getElementById('board_canvas') as HTMLElement).insertAdjacentElement('afterEnd', canvas);\n      this.ac = document.getElementById(`animated_canvas${this.type}`) as HTMLCanvasElement;\n\n      const shadowCanvas = document.createElement('canvas');\n      shadowCanvas.id = `animated_shadow_canvas${this.type}`;\n      shadowCanvas.className = 'animated_shadow_canvas';\n      this.ac.insertAdjacentElement('beforeBegin', shadowCanvas);\n      this.sc = document.getElementById(`animated_shadow_canvas${this.type}`) as HTMLCanvasElement;\n    }\n    this.acc = this.ac.getContext('2d') as CanvasRenderingContext2D;\n    this.scc = this.sc.getContext('2d') as CanvasRenderingContext2D;\n\n    this.autoMoveDownInterval = window.setInterval(() => this.moveDownIntervalFunc(), this.fallInterval);\n    this.animationUpdateIntervalFunc();\n\n    this.updateSizing();\n\n    this.nextPiece();\n  }\n\n  public update() {\n    if(this.game.state === Game.states.STARTED) {\n      this.draw();\n    }\n  }\n\n  public draw() {\n    this.drawPiece(this.acc);\n    this.drawShadow(this.scc);\n  }\n\n  public onClickedKey(data: string) {\n    const onIndex = data.indexOf(':1');\n    const offIndex = data.indexOf(':0');\n    if(onIndex > -1) {\n      this.keyDownFactory(parseInt(data.slice(0, onIndex), 0));\n    } else if(offIndex > -1) {\n      this.keyUpFactory(parseInt(data.slice(0, offIndex), 0));\n    }\n  }\n\n  public updateSizing() {\n    this.ac.width = this.game.canvasWidth;\n    this.ac.height = this.game.canvasHeight;\n    this.sc.width = this.game.canvasWidth;\n    this.sc.height = this.game.canvasHeight;\n  }\n\n  public unMount() {\n    clearInterval(this.autoMoveDownInterval);\n    clearTimeout(this.animationUpdateTimeout);\n    this.animationUpdateTimeout = 0;\n\n    this.acc.clearRect(0, 0, this.game.boardOffsetX * 2 + this.game.tileSizeX * this.game.boardSizeX + this.game.tileGapSize * (this.game.boardSizeX - 1), this.game.boardOffsetY * 2 + this.game.tileSizeY * this.game.boardSizeY + this.game.tileGapSize * (this.game.boardSizeY - 1));\n    this.acc.save();\n\n    this.scc.clearRect(0, 0, this.game.boardOffsetX * 2 + this.game.tileSizeX * this.game.boardSizeX + this.game.tileGapSize * (this.game.boardSizeX - 1), this.game.boardOffsetY * 2 + this.game.tileSizeY * this.game.boardSizeY + this.game.tileGapSize * (this.game.boardSizeY - 1));\n    this.scc.save();\n  }\n\n  private generator: () => number = () => Math.floor(Math.random() * this._tetrominos.length);\n\n  private moveDownIntervalFunc() {\n    this.moves.timer();\n    this.update();\n  }\n\n  private animationUpdateIntervalFunc(now: number = 16) {\n    this.animationUpdateTimeout = window.setTimeout(() => {\n      window.requestAnimationFrame((time: number) => {\n        // move animPositions closer to their targets (piece positions)\n        this.animPositionX += (this.pieceX - this.animPositionX) * 0.3;\n        this.animPositionY += (this.pieceY - this.animPositionY) * 0.3;\n        // move animRotation closer to zero\n        this.animRotation -= this.animRotation * 0.3;\n        this.update();\n        if(this.animationUpdateTimeout) {\n          this.animationUpdateIntervalFunc(time);\n          this.animationUpdateLastCall = time;\n        }\n      });\n    }, 24);\n  }\n\n  private nextPiece() {\n    if(this.game.state !== Game.states.STARTED) {\n      return;\n    }\n    this.pieceX = this.game.boardSizeX / 2 - 2;\n    this.pieceY = 0;\n    this.animPositionX = this.pieceX;\n    this.animPositionY = this.pieceY;\n    this.curRotation = 0;\n    this.curPiece = this.generator();\n    if(this.kick()) {\n      this.game.gameOver();\n    }\n  }\n\n  private fixPiece() {\n    if(this.game.state !== Game.states.STARTED) {\n      return;\n    }\n\n    const tetk = this._tetrominos[ this.curPiece ][ this.curRotation ];\n    for(const [ i, tetki ] of tetk.entries()) {\n      for(const [ j, tetkij ] of tetki.entries()) {\n        const pxi = this.pieceX + j;\n        const pyj = this.pieceY + i;\n        if(tetkij === 0) {\n          continue;\n        }\n        this.game.board[ pyj * this.game.boardSizeX + pxi ] = this.color;\n      }\n    }\n    this.game.onFixPiece(this);\n    this.nextPiece();\n  }\n\n  private isPieceInside() {\n    const tetk = this._tetrominos[ this.curPiece ][ this.curRotation ];\n    for(let j = 0; j < tetk.length; j++) {\n      const tetkj = tetk[ j ];\n      for(let i = 0; i < tetkj.length; i++) {\n        const tetkji = tetkj[ i ];\n        const pxi = this.pieceX + i;\n        const pyj = this.pieceY + j;\n        if(tetkji && (pxi < 0 || pyj < 0 || pxi > (this.game.boardSizeX - 1) || pyj > (this.game.boardSizeY - 1))) {\n          return 1;\n        }\n        if(tetkji && this.game.board[ pyj * this.game.boardSizeX + pxi ]) {\n          return 2;\n        }\n      }\n    }\n    return 0;\n  }\n\n  // rotation nudge. Attempts to shift piece into a space that fits nearby, if necessary.\n  // if such a position is found, it will be moved there.\n  private kick() {\n    // modify this array to change the order in which shifts are tested. To favor burying pieces into gaps below,\n    // place negative y offset entries closer to the front.\n    const oldpos = [ this.pieceX, this.pieceY ]; // for simplicity I reuse methods that actually modify piece position.\n    for(const shiftOrder of this.shiftOrders) {\n\n      this.pieceX = oldpos[ 0 ];\n      this.pieceY = oldpos[ 1 ]; // restore position\n      if(this.shiftRight) {\n        this.pieceX -= shiftOrder[ 0 ];\n      } else {\n        this.pieceX += shiftOrder[ 0 ];\n      }\n      this.pieceY += shiftOrder[ 1 ];\n      if(!this.isPieceInside()) {\n        return 0;\n      }\n    }\n    this.pieceX = oldpos[ 0 ];\n    this.pieceY = oldpos[ 1 ]; // restore position\n    return 1; // return failure\n  }\n\n  private setupRepeat(control: string) {\n    if(this.repeatIntervals[ control ] === 0) {\n      this.repeatIntervals[ control ] = window.setTimeout(() => {\n        this.moves[ control ]();\n        this.repeatIntervals[ control ] = window.setInterval(this.moves[ control ], this.repeatRate);\n        this.repeatInitPassed[ control ] = 1;\n      }, this.repeatRateInitial);\n    }\n  }\n\n  private stopRepeat(control: string) {\n    if(this.repeatIntervals[ control ] !== 0) {\n      if(this.repeatInitPassed[ control ]) {\n        clearInterval(this.repeatIntervals[ control ]);\n      } else {\n        clearTimeout(this.repeatIntervals[ control ]);\n      }\n      this.repeatIntervals[ control ] = 0;\n    }\n  }\n\n  private keyDownFactory(key: number) {\n    for(const [ control, buttonKey ] of Object.entries(this.controls)) {\n      if(key === buttonKey && !this.buttonStates[ control ]) {\n        this.moves[ control ]();\n        this.stopRepeat(control); // this is insurance\n        this.setupRepeat(control);\n        this.buttonStates[ control ] = 1;\n      }\n    }\n\n    this.update();\n  }\n\n  private keyUpFactory(key: number) {\n    for(const [ control, buttonKey ] of Object.entries(this.controls)) {\n      if(key === buttonKey) {\n        this.buttonStates[ control ] = 0;\n        this.stopRepeat(control);\n      }\n    }\n  }\n\n  private drawPiece(context: CanvasRenderingContext2D) {\n    // console.trace('draw');\n    // drawing using geometry of current rotation\n    const tetk = this._tetrominos[ this.curPiece ][ this.curRotation ];\n    // translating (canvas origin) to the center,\n    // rotating there, then drawing the boxes\n    context.clearRect(0, 0, this.game.boardOffsetX * 2 + this.game.tileSizeX * this.game.boardSizeX + this.game.tileGapSize * (this.game.boardSizeX - 1), this.game.boardOffsetY * 2 + this.game.tileSizeY * this.game.boardSizeY + this.game.tileGapSize * (this.game.boardSizeY - 1));\n    context.save();\n    context.fillStyle = this.color;\n\n    let centerX = (this.tet_center_rot[ this.curPiece ][ 0 ] as number) * (this.game.tileSizeX + this.game.tileGapSize) + this.game.tileSizeX / 2;\n    let centerY = (this.tet_center_rot[ this.curPiece ][ 1 ] as number) * (this.game.tileSizeY + this.game.tileGapSize) + this.game.tileSizeY / 2;\n    if(this.tet_center_rot[ this.curPiece ][ 2 ] === true) {\n      centerX += this.game.tileSizeX / 2 + this.game.tileGapSize;\n      centerY += this.game.tileSizeY / 2 + this.game.tileGapSize;\n    }\n\n    context.translate(this.game.boardOffsetX + this.animPositionX * (this.game.tileSizeX + this.game.tileGapSize) + centerX + this.game.tileGapSize, this.game.boardOffsetY + this.animPositionY * (this.game.tileSizeY + this.game.tileGapSize) + centerY);\n    context.rotate(this.animRotation);\n    context.translate(-centerX, -centerY);\n\n    // now in rotated coordinates, zeroed at piece origin\n    for(const [ i, tetkj ] of tetk.entries()) {\n      for(const [ j, tetkji ] of tetkj.entries()) {\n        if(tetkji === 0) {\n          continue;\n        }\n        context.fillRect(j * (this.game.tileSizeX + this.game.tileGapSize), i * (this.game.tileSizeY + this.game.tileGapSize), this.game.tileSizeX, this.game.tileSizeY);\n      }\n    }\n    context.restore();\n  }\n\n  private drawShadow(context: CanvasRenderingContext2D) {\n    let curY = 0;\n    let count = 0;\n    const origY = this.pieceY;\n    while(!this.isPieceInside()) {\n      curY = this.pieceY;\n      this.pieceY++;\n      count++;\n    }\n    this.pieceY = origY;\n    this.shadowY = curY;\n    if(!count) {\n      return;\n    }\n    this.drawShadowPieceAt(context, this.pieceX, curY);\n  }\n\n  private drawShadowPieceAt(context: CanvasRenderingContext2D, gridX: number, gridY: number) {\n    const tetk = this._tetrominos[ this.curPiece ][ this.curRotation ];\n    context.clearRect(0, 0, this.game.boardOffsetX * 2 + this.game.tileSizeX * this.game.boardSizeX + this.game.tileGapSize * (this.game.boardSizeX - 1), this.game.boardOffsetY * 2 + this.game.tileSizeY * this.game.boardSizeY + this.game.tileGapSize * (this.game.boardSizeY - 1));\n    context.save();\n    context.fillStyle = this.shadowColor;\n    context.translate(this.game.boardOffsetX + gridX * (this.game.tileSizeX + this.game.tileGapSize) + this.game.tileGapSize, this.game.boardOffsetY + gridY * (this.game.tileSizeY + this.game.tileGapSize));\n    for(let j = 0; j < tetk.length; j++) {\n      const tetkj = tetk[ j ];\n      for(let i = 0; i < tetkj.length; i++) {\n        const tetkji = tetkj[ i ];\n        if(tetkji) {\n          context.fillRect(i * (this.game.tileSizeX + this.game.tileGapSize), j * (this.game.tileSizeY + this.game.tileGapSize), this.game.tileSizeX, this.game.tileSizeY);\n        }\n      }\n    }\n    context.restore();\n  }\n\n  private clearLockTimer() {\n    if(this.lockTimer !== 0) {\n      clearTimeout(this.lockTimer);\n      this.lockTimer = 0;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/Piece/index.ts","/*\n  Main App Container\n */\nimport Game from './Game/index';\n\nconst game: Game = new Game(20);\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/index.ts"],"sourceRoot":""}